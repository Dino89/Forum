<style type="text/css" ">
	div.cssbutton
	{
		
    display: inline-block;
    background: #82B311;
    -webkit-box-shadow: 0px 3px 0px 0px #6C940D, 0px -1px 0px 0px #9cd418 inset, 0px 2px 5px 0px #858585;
    -moz-box-shadow: 0px 3px 0px 0px #6C940D, 0px -1px 0px 0px #9cd418 inset, 0px 2px 5px 0px #858585;
    box-shadow: 0px 3px 0px 0px #6C940D, 0px -1px 0px 0px #9cd418 inset, 0px 2px 5px 0px #858585;
    -webkit-border-radius: 4px;
    -moz-border-radius: 4px;
    border-radius: 4px;
    -webkit-transition: all 0s 0;
    -moz-transition: all 0s 0;
    -o-transition: all 0s 0;
    transition: all 0s 0;
    text-shadow: 0px -1px 0px #6C940D;
    padding: 5px 15px;
    margin: 5px 0px;
    border-color: #6C940D;
    border-width: 1px;
    border-style: solid;
    font-size: 14px;
    color: #fff;
    font-weight: 100;
    font-style: normal;
	}
	p.cssbutton2 {
   background-image: -webkit-linear-gradient(top, rgba(29,149,224,1) 0%,rgba(6,103,164,1) 100%);
   background-image:    -moz-linear-gradient(top, rgba(29,149,224,1) 0%,rgba(6,103,164,1) 100%);
   background-image:     -ms-linear-gradient(top, rgba(29,149,224,1) 0%,rgba(6,103,164,1) 100%);
   background-image:      -o-linear-gradient(top, rgba(29,149,224,1) 0%,rgba(6,103,164,1) 100%);
   background-image:         linear-gradient(top, rgba(29,149,224,1) 0%,rgba(6,103,164,1) 100%);
   -webkit-box-shadow: 0px 25px 0px 0px rgba(255,255,255,0.08)inset, 0px 0px 0px 1px rgba(255,255,255,0.3)inset;
      -moz-box-shadow: 0px 25px 0px 0px rgba(255,255,255,0.08)inset, 0px 0px 0px 1px rgba(255,255,255,0.3)inset;
           box-shadow: 0px 25px 0px 0px rgba(255,255,255,0.08)inset, 0px 0px 0px 1px rgba(255,255,255,0.3)inset;
   border: solid 1px rgba(9,81,126,1);
   -webkit-border-radius: 26px;
      -moz-border-radius: 26px;
           border-radius: 26px;
   width: 220px;
   display: inline-block;
   font-size: 21px;
   line-height: 50px;
   text-align: center;
   color: rgba(255,255,255,1);
   font-weight: bold;
   text-shadow: 0px -1px 0px rgba(0,0,0,0.66)
}
.cssbutton2:hover {
   background-image: -webkit-linear-gradient(top, rgba(43,165,240,1) 0%,rgba(6,103,164,1) 100%);
   background-image:    -moz-linear-gradient(top, rgba(43,165,240,1) 0%,rgba(6,103,164,1) 100%);
   background-image:     -ms-linear-gradient(top, rgba(43,165,240,1) 0%,rgba(6,103,164,1) 100%);
   background-image:      -o-linear-gradient(top, rgba(43,165,240,1) 0%,rgba(6,103,164,1) 100%);
   background-image:         linear-gradient(top, rgba(43,165,240,1) 0%,rgba(6,103,164,1) 100%);
}
.cssbutton2:active {
   -webkit-transform: translateY(1px);
      -moz-transform: translateY(1px);
           transform: translateY(1px);
}
	.cssbutton:hover {
    background: #398fa1;
    -webkit-box-shadow: 0px 3px 0px 0px #316396, 0px -1px 0px 0px #41c0ad inset, 0px 2px 5px 0px #858585;
    -moz-box-shadow: 0px 3px 0px 0px #316396, 0px -1px 0px 0px #41c0ad inset, 0px 2px 5px 0px #858585;
    box-shadow: 0px 3px 0px 0px #316396, 0px -1px 0px 0px #41c0ad inset, 0px 2px 5px 0px #858585;
    text-shadow: 0px -1px 0px #316496;
    border-color: #316496;
}
.cssbutton:active {
    background: #398fa1;
    -webkit-box-shadow: 0px 1px 0px 0px #316396, 0px -1px 0px 0px #41c0ad inset;
    -moz-box-shadow: 0px 1px 0px 0px #316396, 0px -1px 0px 0px #41c0ad inset;
    box-shadow: 0px 1px 0px 0px #316396, 0px -1px 0px 0px #41c0ad inset;
    text-shadow: 0px -1px 0px #316496;
    margin: 7px 0px 3px 0px;
    border-color: #316496;
   }
    
    div.likes {
    display: inline-block;
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#FEFFFF), color-stop(100%,#EBF3FC));
    background: -moz-linear-gradient(center top, #FEFFFF 0%, #EBF3FC 100%);
    -webkit-border-radius: 10px;
    -moz-border-radius: 10px;
    border-radius: 10px;
    -webkit-transition: all 0s 0;
    -moz-transition: all 0s 0;
    -o-transition: all 0s 0;
    transition: all 0s 0;
    text-shadow: 1px 1px 0px #fff;
    padding: 4px 3px;
    display: inline-block;
    border-color: #C4DBF1;
    border-width: 1px;
    border-style: solid;
    font-size: 15px;
    color: #336699;
    font-weight: bold;
    }

</style>



<div align="center" >
	
	<% if comment.procontra == 'pro'%>
		<div align="left"  class="comment" style="background-color: rgba(130, 230, 123, 0.9);">
	<%end%>
	<% if comment.procontra == 'contra'%>
		<div align="left" class="comment" style="background-color: rgba(252, 102, 102, 0.9);">
	<%end%>
	<% if comment.procontra == 'neutral'%>
		<div align="left" class="comment" style="background-color: rgba(223, 226, 209, 0.9);">
	<%end%>		
		
	<a name=<%=comment.id %>> </a>
	
	
	<div class="userinfo">
		<div><%= comment.user.nickname  %></div> 
		<div><%= comment.user.location  %></div>
		<div><%= comment.user.gender  %></div> 
		<p> erhielt <%= likes_of_user(comment) %> Likes </p>
		</br>
		&nbsp; <div class="likes">Schon <%= ActiveRecord::Base.connection.select_all("select count(*) as anzahl from flaggings where flaggable_id ="+((comment.id).to_s)).first['anzahl'] %> likes</div>
	 	<% if current_user.present? %>
			<% if current_user.has_role? :admin or current_user.has_role? :user %>
				<% if comment.user_id != current_user.id %>
					&nbsp; &nbsp; &nbsp;<div class="cssbutton"> <%= toggle_like_button(comment, current_user) %> </div>
				<% end %>
			<% end %>
		<% else %>
			&nbsp; &nbsp; &nbsp;<div class="cssbutton"> <%= link_to 'Like', new_user_registration_path%> </div>
	  	<% end %>
	</div>

<div class="comment-content">
<div><b><i><%= comment.title%> -> vom: <%= comment.created_at.strftime("%d.%m.%Y %H:%M")%> </i></b></div>
</br>
<div></div>
<div><%= comment.text%> </div><br>
</div>


<% if current_user.present? %>


							  	<% if current_user.has_role? :admin  %>
							  		<li> <%= link_to 'LÃ¶schen', comment, method: :delete, data: { confirm: 'Sind Sie sicher?' } %></li>
									
									<li> <%= link_to 'Editieren', :controller => "comments", :action => "edit", :theme => comment.theme_id, :id => comment.id %> 
							  	<% end %>
							  	

								
<% end %>
</div>
<br /><br />

</div>